<div class="row">
    <?php $selectd_val ='';
     $count = 1;
    ?>

        <?php if(isset($CompanyGateway) && count($CompanyGateway) > 0): ?>
            <div class="col-md-12">
                <div class="form-group">
                <label for="drp_rateGenerators" class="control-label ">Gateway</label>
                    <?php echo Form::select('CompanyGatewayID', $CompanyGateway, (isset($commandconfigval->CompanyGatewayID)?$commandconfigval->CompanyGatewayID:'') ,array("id"=>"drp_rateGenerators" ,"class"=>"selectboxit form-control")); ?>

                </div>
            </div>
        <?php endif; ?>
        <?php if(isset($emailTemplates) && count($emailTemplates) > 0): ?>
            <div class="col-md-6">
                <div class="form-group">
                <label class="control-label ">Email Template</label>
                    <?php echo Form::select('TemplateID', $emailTemplates, (isset($commandconfigval->TemplateID)?$commandconfigval->TemplateID:'') ,array("class"=>"selectboxit form-control")); ?>

                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                <label class="control-label ">Account</label>
                    <?php echo Form::select('AccountID', $accounts, (isset($commandconfigval->AccountID)?$commandconfigval->AccountID:'') ,array("class"=>"selectboxit form-control")); ?>

                </div>
            </div>
        <?php endif; ?>

        <?php if(isset($rateGenerators) && count($rateGenerators) > 0 && isset($rateTables) && count($rateTables) > 0 ): ?>
            <div class="col-md-6">
                <div class="form-group">
                <label for="drp_rateGenerators" class="control-label ">Rate Generator</label>
                    <?php echo Form::select('rateGenerators', $rateGenerators, (isset($commandconfigval)?$commandconfigval->rateGeneratorID:'') ,array("id"=>"drp_rateGenerators" ,"class"=>"selectboxit form-control")); ?>

                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label for="drp_rateGenerators" class="control-label ">Rate Table</label>

                    <?php echo Form::select('rateTables', $rateTables,(isset($commandconfigval)?$commandconfigval->rateTableID:'') ,array("id"=>"drp_rateGenerators" ,"class"=>"selectboxit form-control")); ?>

                </div>
            </div>
        <?php endif; ?>
<?php foreach((array)$commandconfig as  $config): ?>
<?php foreach((array)$config as $configtitle): ?>
    <?php
        $selectd_val = '';
        if(isset($commandconfigval->$configtitle['name'])){
            $selectd_val =$commandconfigval->$configtitle['name'];
        }
        $count++;
    ?>
    <?php if($count%2 == 0): ?>
        <div class="clear"></div>
    <?php endif; ?>
     <div class="col-md-6">
        <div class="form-group">
            <label for="field-5" class="control-label <?php if(isset($configtitle['timepicker'])): ?> starttime2 <?php endif; ?>"><?php echo $configtitle['title']; ?>

            <?php if($configtitle['name'] == 'ThresholdTime'): ?> <span data-original-title="Insert" data-content="Threshold Time is maximum time of running time.if time is more than threshold time, Email send to Error Email" data-placement="top" data-trigger="hover" data-toggle="popover" class="label label-info popover-primary">?</span> <?php endif; ?>
            <?php if($configtitle['name'] == 'AlertEmailInterval'): ?> <span data-original-title="Insert" data-content="It is interval time of email send. when any cron job's running's time is more than it's threshold time" data-placement="top" data-trigger="hover" data-toggle="popover" class="label label-info popover-primary">?</span> <?php endif; ?>
            <?php if($configtitle['name'] == 'CdrBehindDuration'): ?> <span data-original-title="Insert" data-content="CDR Behind Duration is maximum time of behind time by currently running time" data-placement="top" data-trigger="hover" data-toggle="popover" class="label label-info popover-primary">?</span> <?php endif; ?>
            </label>
            <?php if($configtitle['type'] == 'select' && isset($configtitle['multiple']) &&  $configtitle['multiple'] == 'multiple'): ?>
            <?php echo Form::select('Setting['.$configtitle['name'].'][]',$configtitle['value'],$selectd_val, array( "class"=>"select2",'multiple',"data-placeholder"=>$configtitle['placeholder'])); ?>

            <?php elseif($configtitle['type'] == 'select'): ?>
            <?php echo Form::select('Setting['.$configtitle['name'].']',$configtitle['value'],$selectd_val,array( "class"=>"selectboxit")); ?>

            <?php elseif($configtitle['type'] == 'text' && isset($configtitle['timepicker'])): ?>

            <input type="<?php echo $configtitle['type']; ?>"  name="Setting[<?php echo $configtitle['name']; ?>]" value="<?php echo $selectd_val; ?>" class="form-control timepicker starttime2" data-minute-step="5" data-show-meridian="true"  data-default-time="12:00:00 AM" data-show-seconds="true" data-template="dropdown">

            <?php else: ?>
            <input type="<?php echo $configtitle['type']; ?>" name="Setting[<?php echo $configtitle['name']; ?>]" value="<?php echo $selectd_val; ?>" class="form-control <?php if(isset($configtitle['datepicker'])): ?> datepicker <?php endif; ?>"  id="field-5" placeholder="" <?php if(isset($configtitle['datepicker']) && isset($configtitle['startdate']) && $configtitle['startdate'] == 'now'): ?> data-startdate="<?php echo date('Y-m-d'); ?>" <?php endif; ?>>
            <?php endif; ?>
         </div>
    </div>
<?php endforeach; ?>
<?php endforeach; ?>
</div>

<script type="text/javascript" >



if ($.isFunction($.fn.selectBoxIt))
{
    $("select.selectboxit").each(function(i, el)
    {
        var $this = $(el),
                opts = {
            showFirstOption: attrDefault($this, 'first-option', true),
            'native': attrDefault($this, 'native', false),
            defaultText: attrDefault($this, 'text', '')
        };

        $this.addClass('visible');
        $this.selectBoxIt(opts);
    });
}
// Timepicker
        if ($.isFunction($.fn.timepicker))
        {
            $(".timepicker").each(function(i, el)
            {
                var $this = $(el),
                        opts = {
                    template: attrDefault($this, 'template', false),
                    showSeconds: attrDefault($this, 'showSeconds', false),
                    defaultTime: attrDefault($this, 'defaultTime', 'current'),
                    showMeridian: attrDefault($this, 'showMeridian', true),
                    minuteStep: attrDefault($this, 'minuteStep', 15),
                    secondStep: attrDefault($this, 'secondStep', 15)
                },
                $n = $this.next(),
                        $p = $this.prev();

                $this.timepicker(opts);

                if ($n.is('.input-group-addon') && $n.has('a'))
                {
                    $n.on('click', function(ev)
                    {
                        ev.preventDefault();

                        $this.timepicker('showWidget');
                    });
                }

                if ($p.is('.input-group-addon') && $p.has('a'))
                {
                    $p.on('click', function(ev)
                    {
                        ev.preventDefault();

                        $this.timepicker('showWidget');
                    });
                }
            });
        }
// Datepicker
        if ($.isFunction($.fn.datepicker))
        {
            $(".datepicker").each(function(i, el)
            {
                var $this = $(el),
                        opts = {
                    //format: attrDefault($this, 'format', 'dd/mm/yyyy'),
                    startDate: attrDefault($this, 'startdate', ''),
                    endDate: attrDefault($this, 'enddate', ''),
                    daysOfWeekDisabled: attrDefault($this, 'disableddays', ''),
                    startView: attrDefault($this, 'startview', 0),
                    rtl: rtl()
                },
                $n = $this.next(),
                        $p = $this.prev();

                $this.datepicker(opts);

                if ($n.is('.input-group-addon') && $n.has('a'))
                {
                    $n.on('click', function(ev)
                    {
                        ev.preventDefault();

                        $this.datepicker('show');
                    });
                }

                if ($p.is('.input-group-addon') && $p.has('a'))
                {
                    $p.on('click', function(ev)
                    {
                        ev.preventDefault();

                        $this.datepicker('show');
                    });
                }
            });
        }

        // Popovers and tooltips
                $('[data-toggle="popover"]').each(function(i, el)
                {
                    var $this = $(el),
                        placement = attrDefault($this, 'placement', 'right'),
                        trigger = attrDefault($this, 'trigger', 'click'),
                        popover_class = $this.hasClass('popover-secondary') ? 'popover-secondary' : ($this.hasClass('popover-primary') ? 'popover-primary' : ($this.hasClass('popover-default') ? 'popover-default' : ''));

                    $this.popover({
                        placement: placement,
                        trigger: trigger
                    });

                    $this.on('shown.bs.popover', function(ev)
                    {
                        var $popover = $this.next();

                        $popover.addClass(popover_class);
                    });
                });


</script>
